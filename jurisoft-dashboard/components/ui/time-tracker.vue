<template>
  <div>
    <div class="card">
      <header>
        <div class="icone">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M6.94383 6.57121C8.3782 5.42196 10.1621 4.79708 12 4.80001C13.9125 4.80001 15.6702 5.46241 17.0562 6.57121L18.3639 5.26351L19.6365 6.53611L18.3288 7.84381C19.2808 9.03554 19.8769 10.4718 20.0486 11.9874C20.2202 13.503 19.9605 15.0362 19.2993 16.4107C18.638 17.7851 17.6022 18.945 16.3109 19.7567C15.0195 20.5685 13.5253 20.9991 12 20.9991C10.4748 20.9991 8.98051 20.5685 7.6892 19.7567C6.39789 18.945 5.36201 17.7851 4.70078 16.4107C4.03954 15.0362 3.77982 13.503 3.9515 11.9874C4.12319 10.4718 4.7193 9.03554 5.67123 7.84381L4.36353 6.53701L5.63613 5.26441L6.94383 6.57211V6.57121ZM12 19.2C12.8274 19.2 13.6466 19.0371 14.4109 18.7204C15.1753 18.4038 15.8698 17.9398 16.4548 17.3548C17.0398 16.7698 17.5039 16.0753 17.8205 15.3109C18.1371 14.5466 18.3 13.7273 18.3 12.9C18.3 12.0727 18.1371 11.2535 17.8205 10.4891C17.5039 9.72475 17.0398 9.03024 16.4548 8.44523C15.8698 7.86022 15.1753 7.39617 14.4109 7.07957C13.6466 6.76296 12.8274 6.60001 12 6.60001C10.3292 6.60001 8.72674 7.26375 7.54526 8.44523C6.36378 9.62671 5.70003 11.2291 5.70003 12.9C5.70003 14.5709 6.36378 16.1733 7.54526 17.3548C8.72674 18.5363 10.3292 19.2 12 19.2ZM12.9 12H15.6L11.1 17.85V13.8H8.40003L12.9 7.94551V12ZM8.40003 2.10001H15.6V3.90001H8.40003V2.10001Z" fill="#525866"/>
          </svg>
        </div>
        <p>Rastreador de tempo</p>
        <div class="btn soft">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 2.5C14.1423 2.5 17.5 5.85775 17.5 10C17.5 14.1423 14.1423 17.5 10 17.5C5.85775 17.5 2.5 14.1423 2.5 10H4C4 13.3135 6.6865 16 10 16C13.3135 16 16 13.3135 16 10C16 6.6865 13.3135 4 10 4C7.9375 4 6.118 5.04025 5.03875 6.625H7V8.125H2.5V3.625H4V5.5C5.368 3.6775 7.54675 2.5 10 2.5ZM10.75 6.25V9.68875L13.1823 12.121L12.121 13.1823L9.25 10.3098V6.25H10.75Z" fill="#525866"/>
          </svg>
          <p>Hist√≥rico</p>
        </div>
      </header>
      <main>
        <header>
          <div class="icone">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M3.89643 14.9513C3.53721 14.9521 3.18422 14.8555 2.87353 14.6713C2.56283 14.4872 2.30556 14.2221 2.128 13.9031C1.95315 13.5864 1.86596 13.2271 1.87574 12.8637C1.88553 12.5002 1.99193 12.1463 2.18355 11.8399L5.82535 5.99866C6.01174 5.68473 6.27638 5.42695 6.59223 5.25166C6.90807 5.07637 7.26381 4.98986 7.62311 5.00095C7.98213 5.00973 8.33241 5.11579 8.63812 5.30827C8.94384 5.50075 9.19399 5.77273 9.36299 6.09638C9.70248 6.75207 9.66005 7.54094 9.25343 8.15644L5.61394 13.9977C5.42938 14.2915 5.1752 14.5329 4.87497 14.6996C4.57473 14.8663 4.23815 14.9529 3.89643 14.9513Z" fill="#F62B54"/>
              <path d="M10.1431 14.951C9.40859 14.951 8.73269 14.5499 8.37777 13.9053C8.20332 13.5894 8.11632 13.231 8.12611 12.8685C8.1359 12.506 8.2421 12.1531 8.43332 11.8476L12.0682 6.01968C12.2518 5.70133 12.5155 5.43897 12.8319 5.25979C13.1483 5.08061 13.5058 4.99115 13.8675 5.00069C14.6082 5.01724 15.2794 5.44044 15.6189 6.10243C15.9561 6.76442 15.9067 7.55802 15.4878 8.17194L11.8537 13.9998C11.6697 14.2923 11.4165 14.5328 11.1176 14.699C10.8186 14.8653 10.4835 14.9519 10.1431 14.951Z" fill="#FFCC00"/>
              <path d="M16.25 15.0001C17.2855 15.0001 18.1249 14.1607 18.1249 13.1252C18.1249 12.0898 17.2855 11.2504 16.25 11.2504C15.2145 11.2504 14.3751 12.0898 14.3751 13.1252C14.3751 14.1607 15.2145 15.0001 16.25 15.0001Z" fill="#00CA72"/>
            </svg>
          </div>
          <p>Track App</p>
          <div class="icon arrow">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M10.0001 10.879L13.7126 7.1665L14.7731 8.227L10.0001 13L5.22705 8.227L6.28755 7.1665L10.0001 10.879Z" fill="#525866"/>
            </svg>
          </div>
        </header>
        
        <section class="contador">
          <p class="estado" v-if="!contando">Aguardando</p>
          <p class="estado" v-if="contando">Contando</p>
          <p class="tempo">{{ formatarContagem }}</p>
          <!-- button que aciona a contagem -->
          <button class="btn-iniciar" @click="iniciarContagem" v-if="!  contando">
            <div class="icone">
              <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">
                <path d="M12.9256 8.24962L6.56618 12.4892C6.521 12.5193 6.46851 12.5365 6.41431 12.5391C6.36011 12.5417 6.30622 12.5296 6.25837 12.5039C6.21053 12.4783 6.17054 12.4402 6.14264 12.3937C6.11475 12.3471 6.1 12.2939 6.09998 12.2396V3.76042C6.1 3.70615 6.11475 3.65291 6.14264 3.60636C6.17054 3.55982 6.21053 3.52171 6.25837 3.49609C6.30622 3.47048 6.36011 3.45832 6.41431 3.46091C6.46851 3.46351 6.521 3.48075 6.56618 3.51082L12.9256 7.75042C12.9667 7.77781 13.0004 7.81493 13.0237 7.85847C13.047 7.90201 13.0591 7.95063 13.0591 8.00002C13.0591 8.0494 13.047 8.09802 13.0237 8.14156C13.0004 8.1851 12.9667 8.22222 12.9256 8.24962Z" fill="#FF4A00"/>
              </svg>
            </div>
            <p>Iniciar</p>
          </button>
          <!-- button que pausa a contagem -->
          <button class="btn-pause" @click="pausarContagem" v-if="contando">
            <div class="icone">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M14 19V5h4v14zm-8 0V5h4v14z"/></svg>
            </div>
            <p>Pausar</p>
          </button>
        </section>

        <section class="tarefas">
          <div class="tarefa" v-for="tarefa in tarefas" :key="tarefa.id">
            <div class="icon" v-html="tarefa.icon">
            </div>
            <div class="texto">
              <p class="nome">{{ tarefa.nome }}</p>
              <p class="tempo">{{ tarefa.tempo }}</p>
            </div>
            <div class="more">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 3.25C9.38125 3.25 8.875 3.75625 8.875 4.375C8.875 4.99375 9.38125 5.5 10 5.5C10.6187 5.5 11.125 4.99375 11.125 4.375C11.125 3.75625 10.6187 3.25 10 3.25ZM10 14.5C9.38125 14.5 8.875 15.0063 8.875 15.625C8.875 16.2437 9.38125 16.75 10 16.75C10.6187 16.75 11.125 16.2437 11.125 15.625C11.125 15.0063 10.6187 14.5 10 14.5ZM10 8.875C9.38125 8.875 8.875 9.38125 8.875 10C8.875 10.6188 9.38125 11.125 10 11.125C10.6187 11.125 11.125 10.6188 11.125 10C11.125 9.38125 10.6187 8.875 10 8.875Z" fill="#525866"/>
              </svg>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      contagem: 0,
      contando: false,
      interval: null,
      tarefas: [
        {
          id: 1,
          nome: 'Loom Rebranding',
          tempo: '1:23:05',
          icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"> <path d="M21.75 10.9164H16.0476L20.9867 8.06518L19.9017 6.18482L14.964 9.03739L17.8138 4.09832L15.9348 3.01329L13.0864 7.95096V2.25H10.9136V7.95236L8.06379 3.01329L6.18621 4.09832L9.036 9.036L4.09832 6.18621L3.01329 8.06379L7.95236 10.915H2.25V13.0836H7.95096L3.01329 15.9348L4.09832 17.8152L9.036 14.964L6.18482 19.9017L8.06518 20.9867L10.915 16.0476V21.75H13.0836V16.0476L15.9348 20.9867L17.8138 19.9017L14.9626 14.9626L19.9003 17.8138L20.9853 15.9348L16.0476 13.085H21.7486L21.75 10.9164ZM12 14.9501C11.2146 14.9501 10.4614 14.6381 9.90611 14.0828C9.35077 13.5274 9.03879 12.7742 9.03879 11.9889C9.03879 11.2035 9.35077 10.4503 9.90611 9.89496C10.4614 9.33963 11.2146 9.02764 12 9.02764C12.7854 9.02764 13.5386 9.33963 14.0939 9.89496C14.6492 10.4503 14.9612 11.2035 14.9612 11.9889C14.9612 12.7742 14.6492 13.5274 14.0939 14.0828C13.5386 14.6381 12.7854 14.9501 12 14.9501Z" fill="#625DF5"/></svg>',
        },
        {
          id: 2,
          nome: 'Evernote App Redesign',
          tempo: '3:14:26',
          icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"> <circle cx="12" cy="12" r="10.5" fill="#00A82D"/> <path d="M9.52501 8.28328C9.52501 8.4176 9.5141 8.64146 9.38314 8.78697C9.24126 8.92128 9.023 8.93247 8.89204 8.93247C8.15531 8.93247 7.13335 8.74734 6.43653 9.03321C7.5 7.125 9.56016 5.857 9.54684 5.96635C9.44868 6.72143 9.52501 7.52381 9.52501 8.28328ZM11.7295 16.9466C11.7295 16.0176 12.4716 15.2565 13.3883 15.2565C13.6612 15.2565 13.8794 15.4803 13.8794 15.7602C13.8794 15.9504 13.7812 16.1071 13.6284 16.1967C13.462 16.2991 13.2316 16.2513 13.0828 16.387C12.9736 16.4765 12.8863 16.622 12.8863 16.7787C12.8863 16.9466 12.9518 17.1033 13.0609 17.2152C13.2574 17.4167 13.5193 17.5286 13.803 17.5286C14.5452 17.5286 15.1454 16.913 15.1454 16.1519C15.1454 15.4691 14.6979 14.8647 14.1086 14.5961C13.2142 14.1375 11.8458 14.3985 11.7404 12.9619C11.5764 13.7217 11.2145 15.0774 10.2344 15.0774C7.27351 15.2578 6.2063 12.8594 6 10.3204C6 9.77194 6.3274 9.40258 6.74211 9.34661C7.48422 9.34661 8.22632 9.34661 8.96843 9.34661C9.3504 9.34661 9.56867 9.24588 9.71054 9.11156C9.89607 8.93247 9.93972 8.67504 9.93972 8.37283C9.93972 7.58559 9.93972 6.375 9.93972 6.01112C9.93972 5.5359 10.3544 5.25 10.8892 5.25C11.2042 5.25 11.4998 5.26107 11.8059 5.33954C12.4716 5.50744 12.6135 6.2014 12.6135 6.2014C12.6135 6.2014 13.8685 6.42526 14.5015 6.53719C15.1017 6.64912 16.5859 6.74985 16.8697 8.28328C17.5354 11.9322 17.1316 15.4691 17.0989 15.4691C16.6296 18.9166 13.8358 18.7487 13.8358 18.7487C12.8202 18.7487 11.7295 18.0556 11.7295 16.9466ZM15.0035 11.0032C14.6434 10.9696 14.3378 11.1151 14.2287 11.3949C14.074 11.7915 15.6692 12.1212 15.6692 11.574C15.6256 11.2606 15.3637 11.0479 15.0035 11.0032Z" fill="white"/> </svg>'
        }
      ],
    }
  },
  computed: {
    formatarContagem() {
      const horas = Math.floor(this.contagem / 3600);
      const minutos = Math.floor((this.contagem % 3600) / 60);
      const segundos = this.contagem % 60;
      return `${this.adicionarZero(horas)}:${this.adicionarZero(minutos)}:${this.adicionarZero(segundos)}`;
    },
  },
  methods: {
    adicionarZero(valor) {
      return valor < 10 ? `0${valor}` : valor;
    },
    // inicia contagem
    iniciarContagem() {
      this.interval = setInterval(() => {
        this.contagem++;
      }, 1000);
      this.contando = true;
    },
    // pausa contagem
    pausarContagem() {
      clearInterval(this.interval);
      this.contando = false;
    },
  },
}
</script>

<style scoped lang="scss">
@import "@/assets/scss/main.scss";

.contador{
  padding: 16px;
  border: 1px solid $softest;
  border-top: 0;
  border-radius: 0 0 10px 10px;
  .estado{
    color: $soft;
    font-size: 11px;
    font-style: normal;
    font-weight: 500;
    line-height: 12px; /* 109.091% */
    letter-spacing: 0.22px;
    text-transform: uppercase;
    text-align: center;
  }
  .tempo{
    color: $primary;
    margin-top: 4px;
    font-size: 40px;
    font-style: normal;
    font-weight: 500;
    line-height: 48px;
    letter-spacing: -0.4px;
    text-align: center;
  }
  .btn-iniciar, .btn-pause{
    width: 100%;
    margin-top: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    .icone{
      width: 20px;
      height: 20px;
      svg{
        width: 20px;
        height: 20px;
        path{
          fill: $secondary;
        }
      }
    }
    p{
      color: $secondary;
      font-size: 14px;
      font-style: normal;
      font-weight: 500;
      line-height: 20px;
      letter-spacing: -0.084px;
      text-align: center;
    }
  }
}

.tarefas{
  .tarefa{
    padding: 16px 0;
    display: flex;
    align-items: center;
    gap: 10px;
    &:last-child{
      padding-bottom: 0;
    }
    .icon{
      border: 1px solid $softest;
      border-radius: 50%;
      padding: 8px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      svg{
        width: 20px;
        height: 20px;
      }
    }
    .texto{
      flex-grow: 1;
      .nome{
        color: $text;
        font-size: 14px;
        font-style: normal;
        font-weight: 400;
        line-height: 20px; /* 142.857% */
        letter-spacing: -0.084px;
      }
      .tempo{
        color: $soft;
        font-size: 12px;
        font-style: normal;
        font-weight: 400;
        line-height: 16px; /* 133.333% */
      }
    }
  }
}

</style>